<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>General Usage • growthstandards</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="General Usage">
<meta property="og:description" content="growthstandards">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">growthstandards</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/usage.html">General Usage</a>
    </li>
    <li>
      <a href="../articles/weight_for_height.html">Weight-for-height</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ki-tools/growthstandards/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>General Usage</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ki-tools/growthstandards/blob/HEAD/vignettes/usage.Rmd" class="external-link"><code>vignettes/usage.Rmd</code></a></small>
      <div class="hidden name"><code>usage.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="growth-standards">Growth Standards<a class="anchor" aria-label="anchor" href="#growth-standards"></a>
</h2>
<p>A major feature of this package is a collection of utility functions for conveniently converting anthropometric measurements to z-scores or centiles (and converting z-scores / centiles to measurements) for three major growth standards:</p>
<ul>
<li>WHO growth standard (functions prefixed with <code>who_</code>)</li>
<li>INTERGROWTH newborn size standard (functions prefixed with <code>igb_</code>)</li>
<li>INTERGROWTH fetal growth standard (functions prefixed with <code>igfet_</code>)</li>
</ul>
<p>These growth standards have previously not necessarily been easy to access inside an R analysis. In some cases R code has been provided for making conversions with the growth standard but in a form that is difficult to embed and generalize (copying and pasting code that will be frequently used is messy will almost surely lead to errors). Some standards are provided only through published coefficients. The goal here is to put all the standards into a single package with a unified interface, while providing additional functionality like interpolation for regions where a standard’s provided tables are sparse.</p>
<p>The growth standard conversion methods have been painstakingly checked for accuracy through comparisons with the standards provided by the original sources. However, we advise caution and double checking against the original sources when results will impact decisions. Links to the original sources can be found in the sections for each standard below.</p>
<div class="section level3">
<h3 id="who-growth-standard">WHO growth standard<a class="anchor" aria-label="anchor" href="#who-growth-standard"></a>
</h3>
<p>The WHO growth standard provides international standard distributions for several anthropometric measurements.</p>
<p>The data / methodology for the WHO growth standard functions in this package come from the WHO <a href="http://www.who.int/childgrowth/software/en/" class="external-link">child growth standard</a> and the <a href="http://www.who.int/growthref/tools/en/" class="external-link">5-19 years growth reference</a>.</p>
<p>WHO growth standard conversions are available for the following pairings of variables:</p>
<table class="table">
<thead><tr class="header">
<th>x_var</th>
<th>y_var</th>
<th>span of x_var</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>agedays</td>
<td>wtkg (weight kg)</td>
<td>~10 years (0 - 3682 days)</td>
</tr>
<tr class="even">
<td>agedays</td>
<td>*lencm (height cm)</td>
<td>2 years (0 - 6970 days)</td>
</tr>
<tr class="odd">
<td>agedays</td>
<td>*htcm (height cm)</td>
<td>~19 years (0 - 6970 days)</td>
</tr>
<tr class="even">
<td>agedays</td>
<td>*lenhtcm (length or height - cm)</td>
<td>~19 years (0 - 6970 days)</td>
</tr>
<tr class="odd">
<td>agedays</td>
<td>bmi (BMI kg/m2)</td>
<td>~19 years (0 - 6970 days)</td>
</tr>
<tr class="even">
<td>agedays</td>
<td>hcircm (head circumference cm)</td>
<td>~ 5 years (0 - 1856 days)</td>
</tr>
<tr class="odd">
<td>agedays</td>
<td>muaccm (mid upper-arm circumference cm)</td>
<td>~ 5 years (0 - 1856 days)</td>
</tr>
<tr class="even">
<td>agedays</td>
<td>ss (subscalpular skinfold)</td>
<td>~ 5 years (0 - 1856 days)</td>
</tr>
<tr class="odd">
<td>agedays</td>
<td>tsftmm (triceps skinfold thickness mm)</td>
<td>~ 5 years (0 - 1856 days)</td>
</tr>
<tr class="even">
<td>htcm</td>
<td>wtkg</td>
<td>120 cm</td>
</tr>
</tbody>
</table>
<p>Note that “lenhtcm” implies that length is implied for ages 0-2 years and height for 2+ years. Explicitly specifying the y variable as “lencm” or “htcm” implies that this method of measurement was used regardless of age, and an adjustment will be made accordingly if the measurement method is not standard for the age (e.g. height measurement used for a 18-month-old child.).</p>
<p>Also note that in almost every case the x variable is <code>agedays</code> - the age since birth in days. When the desired x variable is <code>agedays</code>, a simplified set of functions has been created to convert between z-scores or centiles with the following naming convention, for example, when working with <code>wtkg</code>:</p>
<ul>
<li>
<code>who_wtkg2zscore(agedays, wtkg, sex = "Female")</code>: for specified <code>wtkg</code> values at ages <code>agedays</code>, get the corresponding Female z-scores</li>
<li>
<code>who_wtkg2centile(agedays, wtkg, sex = "Female")</code>: for specified <code>wtkg</code> values at ages <code>agedays</code>, get the corresponding Female centiles</li>
<li>
<code>who_centile2wtkg(agedays, p = 50, sex = "Female")</code>: for given centiles (<code>p=50</code>, or median, as default) at ages <code>agedays</code>, get the corresponding <code>wtkg</code> values</li>
<li>
<code>who_zscore2wtkg(agedays, z = 0, sex = "Female")</code>: for given z-scores (<code>z=0</code> as default) at ages <code>agedays</code>, get the corresponding <code>wtkg</code> values</li>
</ul>
<p>If you are working with <code>htcm</code> you can swap <code>wtkg</code> for <code>htcm</code>, etc.</p>
<p>As z-scores are related to centiles through a simple conversion, there is a bit of redundancy in having functions for both, but both are provided for convenience.</p>
<div class="section level4">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h4>
<p>Here are some examples:</p>
<div class="section level5">
<h5 id="get-who-median-height-vs--age-for-first-year-females">Get WHO median height vs. age for first-year females<a class="anchor" aria-label="anchor" href="#get-who-median-height-vs--age-for-first-year-females"></a>
</h5>
<p>Here we get the WHO median height vs. age for females weekly for the first year:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ki-tools.github.io/growthstandards/" class="external-link">growthstandards</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">365</span>, by <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span>
<span><span class="va">med</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/who_zscore2var.html">who_centile2lenhtcm</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">med</span>, xlab <span class="op">=</span> <span class="st">"age in days"</span>, ylab <span class="op">=</span> <span class="st">"median female height (cm)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="usage_files/figure-html/who1-1.png" width="700"></p>
<p>Here the defaults of <code>sex="Female"</code> and <code>p=50</code> were used, giving us the median height for females at the specified ages.</p>
</div>
<div class="section level5">
<h5 id="get-who-75th-centile-height-vs--age-for-first-year-males">Get WHO 75th centile height vs. age for first-year males<a class="anchor" aria-label="anchor" href="#get-who-75th-centile-height-vs--age-for-first-year-males"></a>
</h5>
<p>To get the WHO 75th centile weight value for age of males at these same time points, we can do the following:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">q75</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/who_zscore2var.html">who_centile2lenhtcm</a></span><span class="op">(</span><span class="va">x</span>, p <span class="op">=</span> <span class="fl">75</span>, sex <span class="op">=</span> <span class="st">"Male"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="get-the-who-centile-for-specific-age-and-height">Get the WHO centile for specific age and height<a class="anchor" aria-label="anchor" href="#get-the-who-centile-for-specific-age-and-height"></a>
</h5>
<p>Suppose we want to know the WHO centile of a female child at 2 years of age (730.5 days) who is 90 cm tall:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/who_var2zscore.html">who_lenhtcm2centile</a></span><span class="op">(</span>agedays <span class="op">=</span> <span class="fl">730.5</span>, lenhtcm <span class="op">=</span> <span class="fl">90</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 84.19807</span></span></code></pre>
<p>This girl’s height is at the 89th centile.</p>
</div>
<div class="section level5">
<h5 id="getting-values-for-combinations-of-parameters">Getting values for combinations of parameters<a class="anchor" aria-label="anchor" href="#getting-values-for-combinations-of-parameters"></a>
</h5>
<p>We can send vectors of values into any of the functions and lookups in the appropriate tables will be made for each distinct case.</p>
<!-- We can even pass in a data frame with the `data` argument, referencing the appropriate variables by name as arguments to the function. -->
<p>For example, suppose we want to plot the WHO 99th centile of weight for age of boys and girls for the first 4 years of life:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  x   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1461</span>, length <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Male"</span>, <span class="st">"Female"</span><span class="op">)</span>, each <span class="op">=</span> <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat</span><span class="op">$</span><span class="va">p99</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/who_zscore2var.html">who_centile2wtkg</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">x</span>, p <span class="op">=</span> <span class="fl">99</span>, sex <span class="op">=</span> <span class="va">dat</span><span class="op">$</span><span class="va">sex</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lattice.r-forge.r-project.org/" class="external-link">lattice</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/lattice/man/xyplot.html" class="external-link">xyplot</a></span><span class="op">(</span><span class="fu"><a href="../reference/unit_conversion.html">kg2lb</a></span><span class="op">(</span><span class="va">p99</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="../reference/unit_conversion.html">days2years</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, groups <span class="op">=</span> <span class="va">sex</span>, data <span class="op">=</span> <span class="va">dat</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"99th percentile weight (pounds) for males"</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"age (years)"</span>, auto.key <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="usage_files/figure-html/q99-1.png" width="700"></p>
<p>Here we are using a convenience function, <code><a href="../reference/unit_conversion.html">kg2lb()</a></code>, provided with the package to plot the weights in pounds.</p>
</div>
<div class="section level5">
<h5 id="getting-z-scores-for-combinations-of-parameters">Getting z-scores for combinations of parameters<a class="anchor" aria-label="anchor" href="#getting-z-scores-for-combinations-of-parameters"></a>
</h5>
<p>Suppose we want to compute the height and weight-for-age z-scores (HAZ and WAZ) for each subject in the cpp data:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">haz</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/who_var2zscore.html">who_lenhtcm2zscore</a></span><span class="op">(</span><span class="va">cpp</span><span class="op">$</span><span class="va">agedays</span>, <span class="va">cpp</span><span class="op">$</span><span class="va">htcm</span>, sex <span class="op">=</span> <span class="va">cpp</span><span class="op">$</span><span class="va">sex</span><span class="op">)</span></span>
<span><span class="va">waz</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/who_var2zscore.html">who_wtkg2zscore</a></span><span class="op">(</span><span class="va">cpp</span><span class="op">$</span><span class="va">agedays</span>, <span class="va">cpp</span><span class="op">$</span><span class="va">wtkg</span>, sex <span class="op">=</span> <span class="va">cpp</span><span class="op">$</span><span class="va">sex</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="generic-who-functions">Generic WHO functions<a class="anchor" aria-label="anchor" href="#generic-who-functions"></a>
</h4>
<p>To utility functions described so far all for measurements against age. To deal with the case of height-for-weight WHO calculations, and also to provide a more generic interface to accessing the WHO growth standards, the following functions are also provided:</p>
<ul>
<li><code>who_value2zscore(x, y, x_var = "agedays", y_var = "htcm", sex = "Female")</code></li>
<li><code>who_value2centile(x, y, x_var = "agedays", y_var = "htcm", sex = "Female")</code></li>
<li><code>who_centile2value(x, p = 50, x_var = "agedays", y_var = "htcm", sex = "Female")</code></li>
<li><code>who_zscore2value(x, z = 0, y_var = "htcm", x_var = "agedays", sex = "Female")</code></li>
</ul>
<p>Here both the x variable and y variable can be specified. For example, the following are equivalent:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/who_var2zscore.html">who_lenhtcm2centile</a></span><span class="op">(</span>agedays <span class="op">=</span> <span class="fl">730.5</span>, lenhtcm <span class="op">=</span> <span class="fl">90</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 84.19807</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/who_value2zscore.html">who_value2centile</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">730.5</span>, y <span class="op">=</span> <span class="fl">90</span>, x_var <span class="op">=</span> <span class="st">"agedays"</span>, y_var <span class="op">=</span> <span class="st">"htcm"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 88.86932</span></span></code></pre>
<p>But now we can do things like computing height-for-weight centiles:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/who_value2zscore.html">who_value2centile</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">90</span>, y <span class="op">=</span> <span class="fl">12</span>, x_var <span class="op">=</span> <span class="st">"htcm"</span>, y_var <span class="op">=</span> <span class="st">"wtkg"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 27.61003</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="intergrowth-newborn-standard">INTERGROWTH newborn standard<a class="anchor" aria-label="anchor" href="#intergrowth-newborn-standard"></a>
</h3>
<p>The <a href="https://intergrowth21.tghn.org/articles/international-standards-newborn-weight-length-and-head-circumference-gestational-age-and-sex-newborn-cross-sectional-study-inte/" class="external-link">INTERGROWTH newborn standard</a> provides standards for newborn weight, length, and head circumference by gestational age and sex from gestational age of 232 days to 300 days.</p>
<p>Functions for this standard have a similar naming structure as we saw for the WHO standards:</p>
<ul>
<li>
<code>igb_lencm2zscore(gagebrth, lencm, sex = "Female")</code>: for specified <code>lencm</code> values at gestational ages at birth <code>gagebrth</code>, get the corresponding Female z-scores</li>
<li>
<code>igb_lencm2centile(gagebrth, lencm, sex = "Female")</code>: for specified <code>lencm</code> values at gestational ages at birth <code>gagebrth</code>, get the corresponding Female centiles</li>
<li>
<code>igb_centile2lencm(gagebrth, p = 50, sex = "Female")</code>: for given centiles (<code>p=50</code>, or median, as default) at gestational ages at birth <code>gagebrth</code>, get the corresponding <code>lencm</code> values</li>
<li>
<code>igb_zscore2lencm(gagebrth, z = 0, sex = "Female")</code>: for given z-scores (<code>z=0</code> as default) at gestational ages at birth <code>gagebrth</code>, get the corresponding <code>lencm</code> values</li>
</ul>
<p>The same functions are available for weight <code>wtkg</code> and head circumference <code>hcircm</code>.</p>
<p>Usage is also the same as in WHO.</p>
<div class="section level5">
<h5 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a>
</h5>
<p>Suppose we want to get the birth length z-scores for all subjects in our <code>cpp</code> data set:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">hbaz</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/igb_var2zscore.html">igb_lencm2zscore</a></span><span class="op">(</span><span class="va">cpp</span><span class="op">$</span><span class="va">gagebrth</span>, <span class="va">cpp</span><span class="op">$</span><span class="va">birthlen</span>, sex <span class="op">=</span> <span class="va">cpp</span><span class="op">$</span><span class="va">sex</span><span class="op">)</span></span></code></pre></div>
<p>Also, we can make a quick and crude recreation of the boys charts seen <a href="https://intergrowth21.tghn.org/site_media/media/articles/INTERGROWTH-21st_Newborn_Size_at_Birth_Chart_Boys.pdf" class="external-link">here</a> with this:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">chartdat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">10</span>, <span class="fl">50</span>, <span class="fl">90</span>, <span class="fl">97</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">p</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>p <span class="op">=</span> <span class="va">p</span>, gagebrth <span class="op">=</span> <span class="fl">232</span><span class="op">:</span><span class="fl">300</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/lattice/man/make.groups.html" class="external-link">make.groups</a></span><span class="op">(</span></span>
<span>    wtkg <span class="op">=</span> <span class="fu"><a href="../reference/igb_zscore2var.html">igb_centile2wtkg</a></span><span class="op">(</span><span class="fl">232</span><span class="op">:</span><span class="fl">300</span>, <span class="va">p</span>, sex <span class="op">=</span> <span class="st">"Male"</span><span class="op">)</span>,</span>
<span>    lencm <span class="op">=</span> <span class="fu"><a href="../reference/igb_zscore2var.html">igb_centile2lencm</a></span><span class="op">(</span><span class="fl">232</span><span class="op">:</span><span class="fl">300</span>, <span class="va">p</span>, sex <span class="op">=</span> <span class="st">"Male"</span><span class="op">)</span>,</span>
<span>    hcircm <span class="op">=</span> <span class="fu"><a href="../reference/igb_zscore2var.html">igb_centile2hcircm</a></span><span class="op">(</span><span class="fl">232</span><span class="op">:</span><span class="fl">300</span>, <span class="va">p</span>, sex <span class="op">=</span> <span class="st">"Male"</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/lattice/man/xyplot.html" class="external-link">xyplot</a></span><span class="op">(</span><span class="va">data</span> <span class="op">~</span> <span class="va">gagebrth</span> <span class="op">/</span> <span class="fl">7</span> <span class="op">|</span> <span class="va">which</span>, groups <span class="op">=</span> <span class="va">p</span>, data <span class="op">=</span> <span class="va">chartdat</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"l"</span>, <span class="st">"g"</span><span class="op">)</span>,</span>
<span>  strip <span class="op">=</span> <span class="cn">FALSE</span>, strip.left <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  scales <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>relation <span class="op">=</span> <span class="st">"free"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  layout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span>, as.table <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Gestational Age at Birth (weeks)"</span>, ylab <span class="op">=</span> <span class="st">""</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="usage_files/figure-html/igb2-1.png" width="700"></p>
</div>
</div>
<div class="section level3">
<h3 id="intergrowth-prenatal-standard">INTERGROWTH prenatal standard<a class="anchor" aria-label="anchor" href="#intergrowth-prenatal-standard"></a>
</h3>
<p>This package also has functions for dealing with the INTERGROWTH international standards for fetal growth based on serial ultrasound measurements. This data covers gestational ages from 7 to 40 weeks (98 to 280 days), for the following variables:</p>
<table class="table">
<thead><tr class="header">
<th>variable</th>
<th>description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>hccm</td>
<td>head circumference (cm)</td>
</tr>
<tr class="even">
<td>bpdcm</td>
<td>biparietel diameter (cm)</td>
</tr>
<tr class="odd">
<td>ofdcm</td>
<td>occipito-frontal diameter (cm)</td>
</tr>
<tr class="even">
<td>accm</td>
<td>abdominal circumference (cm)</td>
</tr>
<tr class="odd">
<td>flcm</td>
<td>femur length (cm)</td>
</tr>
</tbody>
</table>
<p>As with previous growth standard methods, a similar interface to this growth standard is provided with the following conventions for, for example, <code>hccm</code>:</p>
<ul>
<li>
<code>igfet_flcm2zscore(gagedays, flcm, sex = "Female")</code>: for specified <code>flcm</code> values at gestational ages <code>gagedays</code>, get the corresponding Female z-scores</li>
<li>
<code>igfet_flcm2centile(gagedays, flcm, sex = "Female")</code>: for specified <code>flcm</code> values at gestational ages <code>gagedays</code>, get the corresponding Female centiles</li>
<li>
<code>igfet_centile2flcm(gagedays, p = 50, sex = "Female")</code>: for given centiles (<code>p=50</code>, or median, as default) at gestational ages <code>gagedays</code>, get the corresponding <code>flcm</code> values</li>
<li>
<code>igfet_zscore2flcm(gagedays, z = 0, sex = "Female")</code>: for given z-scores (<code>z=0</code> as default) at gestational ages <code>gagedays</code>, get the corresponding <code>flcm</code> values</li>
</ul>
<p>Usage is similar as the other growth standards. For example, to get the centile for child at 100 gestational days with an ultrasound head circumference measurement of 11cm:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/igfet_var2zscore.html">igfet_hccm2centile</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">11</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 93.39812</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="intergrowth-postnatal-growth-measurements-for-preterm-infants">INTERGROWTH postnatal growth measurements for preterm infants<a class="anchor" aria-label="anchor" href="#intergrowth-postnatal-growth-measurements-for-preterm-infants"></a>
</h3>
<p>This package has functions for dealing with the INTERGROWTH international standards for postnatal growth measurements for preterm infants. This data covers postmenstrual ages from 27 to 64 weeks (189 to 448 days), for the following variables:</p>
<table class="table">
<thead><tr class="header">
<th>variable</th>
<th>description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>wtkg</td>
<td>weight (kg)</td>
</tr>
<tr class="even">
<td>htcm</td>
<td>height (cm)</td>
</tr>
<tr class="odd">
<td>hcircm</td>
<td>head circumference (cm)</td>
</tr>
</tbody>
</table>
<p>As with previous growth standard methods, a similar interface to this growth standard is provided with the following conventions for, for example, <code>wtkg</code>:</p>
<ul>
<li>
<code>igprepost_wtkg2zscore(pmagedays, flcm, sex = "Female")</code>: for specified <code>flcm</code> values at gestational ages <code>pmagedays</code>, get the corresponding Female z-scores</li>
<li>
<code>igprepost_wtkg2centile(pmagedays, flcm, sex = "Female")</code>: for specified <code>flcm</code> values at gestational ages <code>pmagedays</code>, get the corresponding Female centiles</li>
<li>
<code>igprepost_centile2wtkg(pmagedays, p = 50, sex = "Female")</code>: for given centiles (<code>p=50</code>, or median, as default) at gestational ages <code>pmagedays</code>, get the corresponding <code>flcm</code> values</li>
<li>
<code>igprepost_centile2wtkg(pmagedays, z = 0, sex = "Female")</code>: for given z-scores (<code>z=0</code> as default) at gestational ages <code>pmagedays</code>, get the corresponding <code>flcm</code> values</li>
</ul>
<p>Usage is similar as the other growth standards. For example, to get the centile for child at 100 gestational days with an weight of x:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/igprepost_var2zscore.html">igprepost_wtkg2centile</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">11</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] NA</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="intergrowth-gestational-weight-gain-gwg-standard">INTERGROWTH gestational weight gain (GWG) standard<a class="anchor" aria-label="anchor" href="#intergrowth-gestational-weight-gain-gwg-standard"></a>
</h3>
<p>Shifting from anthropometry about the child, the <a href="http://www.bmj.com/content/352/bmj.i555" class="external-link">INTERGROWTH gestational weight gain standard</a> focuses on the mother’s weight gain throughout pregnancy.</p>
<p>Note that the standard currently only works for mother’s who had a “normal” BMI before pregnancy of 18.5 - 24.99 kg / m^2.</p>
<p>The following functions can be used</p>
<ul>
<li>
<code>iggwg_value2zscore(gagedays, val, bmi = NULL)</code>: for specified gestational ages <code>gagedays</code> and mother’s weight gain <code>val</code> (change in weight, kg), get the corresponding z-scores</li>
<li>
<code>iggwg_value2centile(gagedays, val, bmi = NULL)</code>: for specified gestational ages <code>gagedays</code> and mother’s weight gain <code>val</code> (change in weight, kg), get the corresponding centiles</li>
<li>
<code>iggwg_zscore2value(gagedays, z = 0, bmi = NULL)</code>: for given z-scores (<code>z=0</code> as default) at gestational ages <code>gagedays</code>, get the corresponding gestational weight gain values</li>
<li>
<code>iggwg_centile2value(gagedays, p = 50, bmi = NULL)</code>: for given centiles (<code>p=50</code>, or median, as default) at gestational ages <code>gagedays</code>, get the corresponding gestational weight gain values</li>
</ul>
<p>For example, to see what the weight gain, in pounds, for the 1st, 5th, 50th, 95th, and 99th centiles are for a woman at 40 weeks:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/unit_conversion.html">kg2lb</a></span><span class="op">(</span><span class="fu"><a href="../reference/iggwg_zscore2value.html">iggwg_centile2value</a></span><span class="op">(</span><span class="fl">40</span> <span class="op">*</span> <span class="fl">7</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">50</span>, <span class="fl">95</span>, <span class="fl">99</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Argument 'bmi' not supplied... presuming valid pre-pregnancy BMI.</span></span></code></pre>
<pre><code><span><span class="co">## [1] 11.95860 16.46159 30.18724 49.18233 59.04926</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="plot-utilities">Plot utilities<a class="anchor" aria-label="anchor" href="#plot-utilities"></a>
</h3>
<p>This package provides a few utility functions for making it easy to add any of the growth standards as an overlay on a plot. Methods are available for ggplot, lattice, and rbokeh. These functions have similar parameters to the growth standard lookup functions described above. The methods available are:</p>
<ul>
<li>ggplot2
<ul>
<li><code><a href="../reference/plot_growth.html">geom_who()</a></code></li>
<li><code><a href="../reference/plot_growth.html">geom_igb()</a></code></li>
<li><code><a href="../reference/plot_growth.html">geom_igfet()</a></code></li>
</ul>
</li>
<li>lattice
<ul>
<li><code><a href="../reference/plot_growth.html">panel.who()</a></code></li>
<li><code><a href="../reference/plot_growth.html">panel.igb()</a></code></li>
<li><code><a href="../reference/plot_growth.html">panel.igfet()</a></code></li>
</ul>
</li>
<li>rbokeh
<ul>
<li><code>ly_who()</code></li>
<li><code>ly_igb()</code></li>
<li><code>ly_igfet()</code></li>
</ul>
</li>
</ul>
<p>Some examples are below.</p>
<div class="section level5">
<h5 id="ggplot">ggplot<a class="anchor" aria-label="anchor" href="#ggplot"></a>
</h5>
<p>Here is an example of using the utility function, <code><a href="../reference/plot_growth.html">geom_who()</a></code>, with a plot of a CPP subject’s height vs. age, plotting the default of WHO bands at centiles 1, 5, 25, 50, 75, 95, 99:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">cpp</span>, <span class="va">subjid</span> <span class="op">==</span> <span class="fl">8</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">agedays</span>, y <span class="op">=</span> <span class="va">htcm</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/plot_growth.html">geom_who</a></span><span class="op">(</span>x_seq <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2600</span>, by <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, y_var <span class="op">=</span> <span class="st">"htcm"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="usage_files/figure-html/who_gg-1.png" width="700"></p>
</div>
<div class="section level5">
<h5 id="lattice">lattice<a class="anchor" aria-label="anchor" href="#lattice"></a>
</h5>
<p>This example of uses <code><a href="../reference/plot_growth.html">panel.who()</a></code> to superpose the WHO growth standard with a plot of a CPP subject’s height vs. age, with WHO bands at z-scores -3, -2, -1, 0, 1, 2, 3:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/lattice/man/xyplot.html" class="external-link">xyplot</a></span><span class="op">(</span><span class="va">wtkg</span> <span class="op">~</span> <span class="va">agedays</span>, data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">cpp</span>, <span class="va">subjid</span> <span class="op">==</span> <span class="fl">8</span><span class="op">)</span>,</span>
<span>  panel <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="../reference/plot_growth.html">panel.who</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2600</span>, by <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>      sex <span class="op">=</span> <span class="st">"Male"</span>, y_var <span class="op">=</span> <span class="st">"wtkg"</span>, p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span><span class="op">:</span><span class="fl">0</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/lattice/man/panel.xyplot.html" class="external-link">panel.xyplot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">...</span><span class="op">)</span></span>
<span>  <span class="op">}</span>,</span>
<span>  ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">39</span><span class="op">)</span>,</span>
<span>  col <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span></span></code></pre></div>
<p><img src="usage_files/figure-html/who_lattice-1.png" width="700"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Ryan Hafen.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
